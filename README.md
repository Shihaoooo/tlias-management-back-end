# Tlias Web Management Backend

ä¸€ä¸ªåŸºäºSpring Bootçš„ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿåç«¯é¡¹ç›®ï¼Œæä¾›å®Œæ•´çš„å‘˜å·¥ã€éƒ¨é—¨ã€ç­çº§å’Œå­¦ç”Ÿç®¡ç†åŠŸèƒ½ã€‚

## é¡¹ç›®æ¦‚è¿°

Tlias Web Management æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ä¸»æµçš„JavaæŠ€æœ¯æ ˆå¼€å‘ï¼Œå…·å¤‡å®Œå–„çš„æƒé™è®¤è¯ã€æ•°æ®ç®¡ç†å’Œæ–‡ä»¶å¤„ç†èƒ½åŠ›ã€‚

## æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: Spring Boot 3.4.5
- **Javaç‰ˆæœ¬**: Java 17
- **æ•°æ®åº“**: MySQL 8.0
- **ORMæ¡†æ¶**: MyBatis 3.0.4
- **è®¤è¯æˆæƒ**: JWT Token
- **æ–‡ä»¶å­˜å‚¨**: é˜¿é‡Œäº‘OSS
- **åˆ†é¡µæ’ä»¶**: PageHelper
- **æ—¥å¿—æ¡†æ¶**: Logback
- **æ„å»ºå·¥å…·**: Maven

## é¡¹ç›®ç»“æ„

```
tlias-web-management/
â”œâ”€â”€ src/main/java/com/itheima/
â”‚   â”œâ”€â”€ controller/          # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ service/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ mapper/             # æ•°æ®è®¿é—®å±‚
â”‚   â”œâ”€â”€ pojo/               # å®ä½“ç±»
â”‚   â”œâ”€â”€ config/             # é…ç½®ç±»
â”‚   â”œâ”€â”€ utils/              # å·¥å…·ç±»
â”‚   â”œâ”€â”€ filter/             # è¿‡æ»¤å™¨
â”‚   â”œâ”€â”€ interceptor/        # æ‹¦æˆªå™¨
â”‚   â””â”€â”€ Exception/          # å¼‚å¸¸å¤„ç†
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yml     # åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ logback.xml         # æ—¥å¿—é…ç½®
â”‚   â””â”€â”€ templates/          # æ¨¡æ¿æ–‡ä»¶
â””â”€â”€ sql/                    # æ•°æ®åº“è„šæœ¬
```

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ‘¥ å‘˜å·¥ç®¡ç†
- å‘˜å·¥ä¿¡æ¯CRUDæ“ä½œ
- å‘˜å·¥å·¥ä½œç»å†ç®¡ç†
- å‘˜å·¥ç»Ÿè®¡åˆ†æ
- å‘˜å·¥åˆ†é¡µæŸ¥è¯¢ä¸æ¡ä»¶ç­›é€‰

### ğŸ¢ éƒ¨é—¨ç®¡ç†
- éƒ¨é—¨ç»„ç»‡æ¶æ„ç®¡ç†
- éƒ¨é—¨ä¿¡æ¯ç»´æŠ¤

### ğŸ“š ç­çº§ç®¡ç†
- ç­çº§ä¿¡æ¯ç®¡ç†
- ç­çº§æ•°æ®ç»Ÿè®¡

### ğŸ‘¨â€ğŸ“ å­¦ç”Ÿç®¡ç†
- å­¦ç”Ÿä¿¡æ¯ç®¡ç†
- å­¦å†å­¦ä½æ˜ å°„
- å­¦ç”Ÿç»Ÿè®¡åˆ†æ

### ğŸ” è®¤è¯æˆæƒ
- åŸºäºJWTçš„ç”¨æˆ·è®¤è¯
- Tokenæ‹¦æˆªå™¨éªŒè¯
- ç™»å½•ç™»å‡ºç®¡ç†

### ğŸ“ æ–‡ä»¶ç®¡ç†
- é˜¿é‡Œäº‘OSSæ–‡ä»¶ä¸Šä¼ 
- å¤´åƒå›¾ç‰‡å¤„ç†
- æ–‡ä»¶ä¸‹è½½åŠŸèƒ½

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- JDK 17+
- Maven 3.6+
- MySQL 8.0+
- é˜¿é‡Œäº‘OSSè´¦å·ï¼ˆå¯é€‰ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/Shihaoooo/tlias-management-back-end.git
```

2. **é…ç½®æ•°æ®åº“**
```bash
# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE tlias;

# æ‰§è¡ŒSQLè„šæœ¬
cd tlias-web-management/sql
# æŒ‰é¡ºåºæ‰§è¡Œï¼š
# - clazz.sql
# - degreeMapping.sql  
# - emp.sql
# - stu.sql
# - subjectMapping.sql
```

3. **ä¿®æ”¹é…ç½®æ–‡ä»¶**
ç¼–è¾‘ [src/main/resources/application.yml](tlias-web-management/src/main/resources/application.yml)ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/tlias
    username: your_username
    password: your_password

aliyun:
  oss:
    endpoint: https://oss-cn-beijing.aliyuncs.com
    bucketName: your_bucket_name
    region: cn-beijing
```

4. **å¯åŠ¨é¡¹ç›®**
```bash
cd tlias-web-management
mvn spring-boot:run
```

5. **è®¿é—®æ¥å£**
- åº”ç”¨å¯åŠ¨åé»˜è®¤ç«¯å£ï¼š8080
- ç™»å½•æ¥å£ï¼šPOST `/login`
- å‘˜å·¥ç®¡ç†ï¼š`/emps`
- éƒ¨é—¨ç®¡ç†ï¼š`/depts`

## APIæ–‡æ¡£

ä¸»è¦æ¥å£è¯´æ˜ï¼š

### è®¤è¯ç›¸å…³
- `POST /login` - ç”¨æˆ·ç™»å½•
- `POST /logout` - ç”¨æˆ·ç™»å‡º

### å‘˜å·¥ç®¡ç†
- `GET /emps` - åˆ†é¡µæŸ¥è¯¢å‘˜å·¥åˆ—è¡¨
- `POST /emps` - æ–°å¢å‘˜å·¥
- `PUT /emps/{id}` - ä¿®æ”¹å‘˜å·¥ä¿¡æ¯
- `DELETE /emps/{ids}` - åˆ é™¤å‘˜å·¥
- `GET /emps/{id}` - æŸ¥è¯¢å‘˜å·¥è¯¦æƒ…

### å…¶ä»–æ¨¡å—
- éƒ¨é—¨ç®¡ç†ï¼š`/depts`
- ç­çº§ç®¡ç†ï¼š`/clazzs`
- å­¦ç”Ÿç®¡ç†ï¼š`/stus`
- æ–‡ä»¶ä¸Šä¼ ï¼š`/upload`
- æŠ¥è¡¨ç»Ÿè®¡ï¼š`/reports`

## é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
é¡¹ç›®ä½¿ç”¨MyBatisä½œä¸ºORMæ¡†æ¶ï¼Œæ”¯æŒé©¼å³°å‘½åè½¬æ¢å’ŒSQLæ—¥å¿—è¾“å‡ºã€‚

### JWTé…ç½®
```yaml
jwt:
  secret: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8
  expire: 3600000  # Tokenè¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
```

### é˜¿é‡Œäº‘OSSé…ç½®
éœ€è¦é…ç½®é˜¿é‡Œäº‘OSSçš„endpointã€bucketNameå’Œregionä¿¡æ¯ã€‚

## å¼€å‘è§„èŒƒ

### ä»£ç ç»“æ„
- é‡‡ç”¨ç»å…¸çš„ä¸‰å±‚æ¶æ„æ¨¡å¼
- Controllerå±‚è´Ÿè´£æ¥æ”¶è¯·æ±‚å’Œå‚æ•°éªŒè¯
- Serviceå±‚å¤„ç†ä¸šåŠ¡é€»è¾‘
- Mapperå±‚å¤„ç†æ•°æ®è®¿é—®

### å¼‚å¸¸å¤„ç†
ä½¿ç”¨å…¨å±€å¼‚å¸¸å¤„ç†å™¨ç»Ÿä¸€å¤„ç†å„ç±»å¼‚å¸¸ï¼Œè¿”å›ç»Ÿä¸€çš„å“åº”æ ¼å¼ã€‚

### æ—¥å¿—è§„èŒƒ
ä½¿ç”¨Logbackè¿›è¡Œæ—¥å¿—ç®¡ç†ï¼Œæ”¯æŒä¸åŒçº§åˆ«çš„æ—¥å¿—è¾“å‡ºã€‚

## éƒ¨ç½²è¯´æ˜

### ä¼ ç»Ÿéƒ¨ç½²
```bash
# æ‰“åŒ…
mvn clean package

# è¿è¡Œ
java -jar target/tlias-web-management-0.0.1-SNAPSHOT.jar
```
---

**æ³¨æ„**ï¼šè¿™æ˜¯ä¸€ä¸ªå­¦ä¹ é¡¹ç›®ï¼Œä»…ä¾›å‚è€ƒå’Œäº¤æµä½¿ç”¨ã€‚
